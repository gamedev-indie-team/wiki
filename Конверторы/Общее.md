## Механизм внедрения

При добавлении компонента [Name]Converter на GameObject механизм обработки выполняет конвертацию данного объекта в компонент Ecs для сущности связанный с GameObject. Компонентов на GameObject может быть множество, но компонента с уникальным именем [Name]Converter будет достаточно для добавления компонента на Ecs сущность.

## Виды конверторов

- Отдельный конвертор - данный конвертор необходим для гибкой настройки объекта и такой конвертор отвественнен за один конкретный компонент
- Общий конвертор - данный конвертор необходим для настройки объекта по аналогии prefab`ов Unity, данный конвертор может добавить несколько компонентов сгруппированных по определённым характеристикам

## Структура написания конвертора

При написании нового конвертора необходимо наследоваться от MonoBehaviour, IConvertableToEcsComponent, IDestroyableBeforeConvert

- MonoBehaviour - для возможности добавления конвертора на GameObject
- IConvertableToEcsComponent - для обрабтки конвертра преобразователем конверторов в компоненты Ecs
- IDestroyableBeforeConvert - для удаления объекта после обработки

Конвертор может не иметь значения(компонент флаги), либо иметь их несколько или иметь сложный тип значения с последующим преобразованием.

### Пример

```
public sealed class [Name]Converter : MonoBehaviour, IConvertableToEcsComponent, IDestroyableBeforeConvert
{
    /// <summary>
    ///     Значение [Name] из конвертора.
    /// </summary>
    [field: SerializeField] public [TypeConvertor] Value { get; private set; }
    /// <inheritdoc/>
    public void SetEcsComponent(ref EcsPackedEntityWithWorld packedWithWorld)
    {
        if (!packedWithWorld.Unpack(out EcsWorld world, out int entity)) return;
        var poolComponent = world.GetPool<HealthComponent>();
        if (!poolComponent.Has(entity)) poolComponent.Add(entity);
        poolComponent.Get(entity).Value = Value;
    }
    /// <inheritdoc/>
    void IDestroyableBeforeConvert.Destroy() => Destroy(this);
}
```
